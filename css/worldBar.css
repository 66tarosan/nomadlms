/* =========================================
   worldBar.css (shared, header secondary row)
   - Place inside .panelHeader, right under .headerRow
   - Works with sticky header (base.css)
   - Safe: styles only under .worldBar namespace
   ========================================= */

.worldBar{
  /* Layout */
  margin-top: 10px;                 /* separate from headerRow */
  padding: 10px 12px;
  border-radius: 16px;

  display: grid;
  grid-template-columns: 180px 1fr 180px;
  gap: 12px;
  align-items: center;

  /* Visual */
  background: rgba(255,255,255,0.72);
  border: 1px solid rgba(0,0,0,0.06);
  box-shadow: 0 10px 24px rgba(0,0,0,0.06);

  /* Text */
  color: var(--text, rgba(18,18,18,0.92));
}

/* If you want it to feel more “header-integrated” */
.panelHeader .worldBar{
  backdrop-filter: saturate(120%) blur(2px);
}

/* ----- Sides (current / next) ----- */
.worldBar__side{
  display: grid;
  gap: 6px;
  align-content: center;
  min-width: 0;
}

.worldBar__side--current{ justify-items: start; }
.worldBar__side--next{ justify-items: end; text-align: right; }

.worldBadge{
  display: inline-flex;
  align-items: center;
  gap: 8px;

  padding: 6px 10px;
  border-radius: 999px;

  font-size: 12px;
  font-weight: 800;
  letter-spacing: 0.12em;
  text-transform: uppercase;

  color: rgba(18,18,18,0.75);
  background: rgba(255,255,255,0.72);
  border: 1px solid rgba(0,0,0,0.10);
  white-space: nowrap;
}

.worldBadge.is-next{
  opacity: 0.78;
  border-style: dashed;
}

.worldName{
  font-size: 13px;
  font-weight: 700;
  color: rgba(18,18,18,0.82);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ----- Center progress ----- */
.worldBar__center{
  display: grid;
  gap: 8px;
  min-width: 0;
}

.worldProgress{
  position: relative;
  height: 12px;
  border-radius: 999px;
  overflow: hidden;

  background: rgba(18,18,18,0.08);
  border: 1px solid rgba(0,0,0,0.06);
}

.worldProgress__fill{
  height: 100%;
  width: 0%;
  border-radius: 999px;
  background: rgba(18,18,18,0.28);
  transition: width 240ms ease;
}

/* Optional: little “cap” highlight at the fill end */
.worldProgress__fill::after{
  content: "";
  position: absolute;
  right: 0;
  top: -6px;
  width: 14px;
  height: 24px;
  border-radius: 999px;
  background: rgba(255,255,255,0.18);
  filter: blur(2px);
}

/* Under text */
.worldHint{
  font-size: 12px;
  color: var(--muted, rgba(18,18,18,0.60));
  letter-spacing: 0.02em;

  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ----- Variants per panel (optional fine tuning) ----- */
/* Tasks: slightly more “daily utility” */
.worldBar[data-variant="tasks"] .worldProgress__fill{
  background: rgba(18,18,18,0.30);
}

/* Log: slightly calmer */
.worldBar[data-variant="log"]{
  background: rgba(255,255,255,0.66);
}
.worldBar[data-variant="log"] .worldProgress__fill{
  background: rgba(18,18,18,0.24);
}

/* Summon: can be a bit more “ritual” later; keep neutral now */
.worldBar[data-variant="summon"]{
  background: rgba(255,255,255,0.70);
}

/* ----- Responsive ----- */
@media (max-width: 980px){
  .worldBar{
    grid-template-columns: 140px 1fr 140px;
    padding: 10px 10px;
  }
  .worldName{ font-size: 12px; }
  .worldBadge{ font-size: 11px; }
}

@media (max-width: 760px){
  /* stack slightly: show current + bar + next compact */
  .worldBar{
    grid-template-columns: 1fr;
    gap: 10px;
  }
  .worldBar__side--next{ justify-items: start; text-align: left; }
}